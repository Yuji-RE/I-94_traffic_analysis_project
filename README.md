# 📊 I-94州間高速道路における「交通量ピーク」要因の分析

- **対象データ**：I-94高速道路（西行き）の交通量データ
- **目的**：交通量が多くなる条件を特定する
- **主なスキル**：
    - 探索的データ可視化(EDA);
        - 折れ線グラフ・棒グラフ・散布図・ヒストグラム・ヒートマップ
        - ACFによる自己相関分析・t検定
    - ウェブリサーチ


## 🚀 プロジェクト概要

本プロジェクトでは、John Hogue氏より提供されている[Interstate 94 westbound; 州間高速道路94号線西行き](https://archive.ics.uci.edu/dataset/492/metro+interstate+traffic+volume)のパブリックデータセットを用いて、

*   **役割:** マーケティング部 データアナリスト
*   **目的:** 新作ゲーム『データクエスト・ロワイヤル』の認知最大化
*   **施策:** I-94高速道路（西行き）のデジタルビルボード広告出稿
*   **課題:** 限られた予算で最大の広告効果を得るため、24時間放映ではなく、最適な放映タイミングを見極める
*   **ミッション:** 交通量データを分析し、「交通量が最も多くなる日時・条件（＝広告のゴールデンタイム）」を特定し、コスパの高い配信プランを提案する

というシナリオ設定の下、探索的データ分析(EDA)を実施する。

##### 分析フロー
1. [**Overview of the Dataset**](#overview-of-the-dataset)
2. [**Data Processing**](#data-processing)
3. [**Time Indicators**](#time-indicators)
    - [Relationship between Month and Traffic Volume](#relationship-between-month-and-traffic-volume)
    - [Relationship between Day of the Week and Traffic Volume](#relationship-between-day-of-the-week-and-traffic-volume)
    - [Relationship between Time of Day and Traffic Volume](#relationship-between-time-of-day-and-traffic-volume)
4. [**Weather Conditions**](#weather-conditions)
    - [Relationship between Temperature and Traffic Volume](#relationship-between-temperature-and-traffic-volume)
    - [Relationship between Weather and Traffic Volume](#relationship-between-weather-and-traffic-volume)
5. [**Conclusion and Summary**](#conclusion-and-summary)

## ✨ 要点サマリー

分析結果に基づく、I-94デジタルビルボード広告運用の推奨方針は以下の通りである。

##### 【最優先戦略：配信タイミングの最適化】

基本的な配信スケジュールの指針

- **曜日**: 平日を優先（特に 木・水・金 の順で効果が高い）
- **時間**: 16時前後をピークとする 15時〜18時（夕方ラッシュ） に集中
- **月別**: 10月と4月 は安定して高トラフィックが見込めるため重点配分候補
- **季節**: 暖かい季節（4月〜10月）に注力し、寒い季節（11月〜3月）は抑制

→ **結論として、平日の夕方ラッシュ時（特に暖かい季節）をコアターゲットとする配信戦略が最も効果的である。**

##### 【発展戦略：気象条件との連動（API活用など）】

さらなる効果改善を図る場合

- **狙い目**: 「曇り」や「小雨」 など、やや天候が崩れたタイミング（交通量増の傾向あり）
- **抑制**: 「霧」や「靄（もや）」 など、視界不良時（交通量減かつ有意差あり）

→ 予算とスケジュールに余裕があれば、天候データと連動した動的配信も検討可能。
  しかし、天候条件による交通量変化の効果量は小さく、実運用でのコスト対効果を慎重に評価する必要がある。

* より詳細なまとめは、[ノートブックのまとめセクション](traffic_analysis_project.ipynb#conclusion)を参照

### 【Next Steps】

- 【コンバージョン最適化に向けた追加調査】
    * 売上への寄与まで狙うなら、交通量の多さだけでなく、**ターゲット層に最もリーチできる時間帯・条件**を特定する必要がある
    * その前提として、**自社ゲームのターゲット層の具体的ペルソナ設計**が必要

    * I-94高速道路の利用者層（ **属性・利用パターン** ）を把握し、ターゲットと重なる層が広告を目にする確率が高い条件を特定する
    * さらに、別軸として **「どの条件で広告を見たとき購買意欲が高まるか」** を検討する。
    * 因果に踏み込むには、**先行研究**や**SNS等のリアルタイム情報**を参照しつつ、定量・定性データを **行動経済学／社会心理学**の観点での分析も検討

### 【技術的振り返り・改善点】

- **欠損を含む時系列データ扱い**: “標本サイズの大きさを過信して、欠損値による影響を過小評価して分析してしまった”  
   → 時系列補間や類似パターンによる補完などの技術を適用し、影響を最小限に抑える処理が必要

- **多変量解析へのステップアップ**: “「時間帯」と「気象条件」をそれぞれ独立した要因として交通量との関係を分析してしまった”  
   → 交通量の分析において「天気と時間」は独立でないため、こうした交絡因子を制御できる重回帰モデルによる要因分析を検討する

- **統計的厳密性の向上**: “第一種の過誤のリスクが高まるにも関わらず、棒グラフで差がみられたペアに対してt検定（事後検定）を行ってしまった”  
   → 分散分析や多重比較法など、より厳密な検定手法の習得が必要


※「傾向把握」を目的としたEDAフェーズでは許容範囲になり得るが、将来的に厳密なモデル構築や分散評価を行う際は、これらの点に注意すべきである


##### 展望・成長課題

次回以降のプロジェクトでは、今回実現できなかった以下の点を意識する。

- ビジネスインパクトを直感的に伝えるために、効果量の算出など、具体的数値の提示を増やす
- 「欠損・外れ値の扱い」について、明確な基準を設け、ルールやポリシーを定義する
- 再利用性、testability、readibility向上のためのコードの関数化
- 回帰でも分類でも、「モデル」をひとつ取り入れる（EDA→ 前処理→ モデル作成→ 評価 までを一通り通しでやる）

---

### 使用ツール・環境

- 言語: Python 3.10.12

- 主なライブラリ
    - pandas
    - numpy
    - seaborn
    - matplotlib
    - statsmodels
    - rpy2
詳しくは[requirements.txt](./requirements.txt)を参照

- 開発環境: VS Code + Jupyter extension
詳しくは[requirements-dev.txt](./requirements-dev.txt)を参照

##### セットアップ手順

```
pip install -r requirements.txt

# (Optional) notebook execution helpers
pip install -r requirements-dev.txt

```

---

### 免責事項

本プロジェクトは学習目的で作成されたものであり、企業内での業務経験や特定企業との関係性を示すものではありません。

また、Github上で公開することでポートフォリオとしての活用を想定しています。

---

※ 本プロジェクトはDataquestのガイド付きプロジェクト["Finding Heaviy Traffic Indicators on I-94"](https://github.com/dataquestio/solutions/blob/master/Mission524Solutions.ipynb)をベースにしています。

###### 【ガイドに沿って実装したもの】（主に前半部分）
- データ分析の目的
- データの読み込み・前処理
- ・昼/夜別・月/曜日/時間別の基本的な可視化 など

###### 【自分で設計・実装したもの】（主に後半部分）
- 上記の基本フローに加えた、より具体的なロジックの深堀り
- 可視化グラフや出力フォーマットの視認性を上げる工夫（ピークの強調、ソート、リッチ出力や要約表示など）
- 2016年7月の交通量急落の深堀り（外部ニュース・気象データ・現地カレンダーの調査など）
- 2014-2015年の欠損値深堀り
- 各気象条件の標本サイズの偏りの検証とフィルタリング
- ACFによる自己相関分析
- rpy2を用いたウェルチのt検定
- ヒートマップによる相対頻度分析
- 課題設定や結論 など
